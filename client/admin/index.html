<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin | Scouts Emergency Response</title>
  <script>
    (function () {
      const storedTheme = localStorage.getItem("ser-theme");
      if (storedTheme !== "light") {
        document.documentElement.classList.add("dark-mode");
      }
    })();
  </script>
  <link rel="stylesheet" href="../assets/css/base.css">
  <link rel="stylesheet" href="../assets/css/admin.css">
</head>

<body>

  <header>
    <nav>
      <div class="logo">
        <a href="../">
          <img src="../assets/images/brand/logo-icon.png" alt="SER Logo" style="height:50px; width:auto;">
        </a>
      </div>

      <div class="nav-links" id="nav-links">
        <ul>
          <li><a href="../">Home</a></li>
          <li><a href="../gallery/">Gallery</a></li>
          <li><a href="../events/">Events</a></li>
          <li><a href="../shop/">Shop</a></li>
          <li><a href="../community/">Community</a></li>
          <li><a href="./">Admin</a></li>
        </ul>
      </div>

      <div class="header-actions">
        <button class="theme-toggle" type="button" data-theme-toggle aria-pressed="false" aria-label="Toggle dark mode">
          <span class="theme-toggle__icon" data-theme-icon>ðŸŒ™</span>
          <span data-theme-label>Dark</span>
        </button>
        <button id="menu-toggle" class="menu-toggle" aria-label="Toggle menu">
          <svg class="icon-menu" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
          </svg>
          <svg class="icon-close" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>

        <button id="logout-btn" class="btn btn-accent" type="button" style="display:none;">Logout</button>
      </div>
    </nav>
  </header>

  <main class="admin-wrap">

    <section class="admin-card page-hero page-hero--compact" id="auth-card">
      <h1>Admin Console</h1>
      <p class="muted">Sign in with an admin account to create products, posts, events, and gallery items.</p>

      <form id="login-form" class="admin-form">
        <label for="email">Email</label>
        <input id="email" type="email" required placeholder="admin@ser.org" />

        <label for="password">Password</label>
        <input id="password" type="password" required placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" />

        <button class="btn" type="submit">Sign In</button>
        <p id="auth-msg" class="msg" aria-live="polite"></p>
      </form>
    </section>

    <section class="admin-card" id="panel" style="display:none;">
      <div class="admin-head">
        <h2>Content Manager</h2>
        <p class="muted">Everything you add here shows up via the API endpoints.</p>
      </div>

      <div class="tabs" role="tablist">
        <button class="tab active" data-tab="products" type="button">Shop Products</button>
        <button class="tab" data-tab="events" type="button">Events</button>
        <button class="tab" data-tab="posts" type="button">Community Posts</button>
        <button class="tab" data-tab="gallery" type="button">Gallery</button>
      </div>

      <!-- PRODUCTS -->
      <div class="tab-panel" id="tab-products">
        <div class="split">
          <form id="product-form" class="admin-form">
            <h3>Add a product</h3>
            <label>Name</label>
            <input name="name" required />

            <label>Price (KES)</label>
            <input name="price_kes" type="number" min="0" required />

            <label>Image URL</label>
            <input name="image_url" placeholder="https://..." />

            <label>Description</label>
            <textarea name="description" rows="4" placeholder="Short product description..."></textarea>

            <label class="check">
              <input name="featured" type="checkbox" /> Featured
            </label>

            <button class="btn" type="submit">Create Product</button>
            <p class="msg" id="product-msg" aria-live="polite"></p>
          </form>

          <div>
            <h3>Existing products</h3>
            <div id="products-list" class="list"></div>
          </div>
        </div>
      </div>

      <!-- EVENTS -->
      <div class="tab-panel" id="tab-events" style="display:none;">
        <div class="split">
          <form id="event-form" class="admin-form">
            <h3>Add an event</h3>
            <label>Title</label>
            <input name="title" required />

            <label>Date</label>
            <input name="event_date" type="date" required />

            <label>Location</label>
            <input name="location" required />

            <label>Description</label>
            <textarea name="description" rows="4" placeholder="What is this event about?"></textarea>

            <button class="btn" type="submit">Create Event</button>
            <p class="msg" id="event-msg" aria-live="polite"></p>
          </form>

          <div>
            <h3>Upcoming/past events</h3>
            <div id="events-list" class="list"></div>
          </div>
        </div>
      </div>

      <!-- POSTS -->
      <div class="tab-panel" id="tab-posts" style="display:none;">
        <div class="split">
          <form id="post-form" class="admin-form">
            <h3>Add a community post</h3>
            <label>Title</label>
            <input name="title" required />

            <label>Slug (optional)</label>
            <input name="slug" placeholder="auto-generated-from-title" />

            <label>Cover URL (optional)</label>
            <input name="cover_url" placeholder="https://..." />

            <label>Body (Markdown)</label>
            <textarea name="body_md" rows="8" required placeholder="# Heading&#10;Write your post here..."></textarea>

            <label class="check">
              <input name="published" type="checkbox" checked /> Published
            </label>

            <button class="btn" type="submit">Create Post</button>
            <p class="msg" id="post-msg" aria-live="polite"></p>
          </form>

          <div>
            <h3>Published posts</h3>
            <div id="posts-list" class="list"></div>
          </div>
        </div>
      </div>

      <!-- GALLERY -->
      <div class="tab-panel" id="tab-gallery" style="display:none;">
        <div class="split">
          <form id="gallery-form" class="admin-form">
            <h3>Add a gallery item</h3>
            <label>Title / Caption</label>
            <input name="title" required />

            <label>Image URL</label>
            <input name="image_url" required placeholder="https://..." />

            <label>Category (optional)</label>
            <input name="category" placeholder="training / outreach / drill" />

            <label class="check">
              <input name="featured" type="checkbox" /> Featured
            </label>

            <button class="btn" type="submit">Create Gallery Item</button>
            <p class="msg" id="gallery-msg" aria-live="polite"></p>
          </form>

          <div>
            <h3>Gallery items</h3>
            <div id="gallery-list" class="list"></div>
          </div>
        </div>
      </div>

    </section>

  </main>

  <footer>
        <div class="footer-links">
            <div class="footer-group">
                <h3>Connect</h3>
                <div class="footer-social">
                    <a href="https://facebook.com" target="_blank" rel="noopener">Facebook</a>
                    <a href="https://instagram.com" target="_blank" rel="noopener">Instagram</a>
                    <a href="https://tiktok.com" target="_blank" rel="noopener">TikTok</a>
                    <a href="https://x.com" target="_blank" rel="noopener">X (Twitter)</a>
                </div>
            </div>
            <div class="footer-group">
                <h3>Contact</h3>
                <div class="footer-contact">
                    <a href="mailto:scoutsemergencyresponse@gmail.com">scoutsemergencyresponse@gmail.com</a>
                    <a href="tel:+254742435314">+254 742 435 314</a>
                    <a href="https://wa.me/254742435314" target="_blank" rel="noopener">WhatsApp</a>
                </div>
            </div>
        </div>

        <p>&copy; 2025 Scouts Emergency Response. All rights reserved.</p>
    </footer>

  <script src="../assets/js/main.js"></script>
  <script src="../assets/js/nav.js"></script>
  <script src="../assets/js/admin.js"></script>
</body>

</html>
